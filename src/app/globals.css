@tailwind base;
@tailwind components;
@tailwind utilities;

/* Eraser Font - Hand-drawn chalk font */
@font-face {
  font-family: 'Eraser';
  src: url('/fonts/EraserRegular.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* Font fallback system */
@font-face {
  font-family: 'EraserFallback';
  src: local('Comic Sans MS'), local('Comic Neue'), local('cursive');
  font-display: swap;
}

:root {
  --background: #ffffff;
  --foreground: #171717;
  --font-fallback: 'EraserFallback', 'Comic Sans MS', 'Comic Neue', 'Arial',
    sans-serif;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  color: var(--foreground);
  background: var(--background);
  /* Ensure fonts are loaded before rendering */
  font-display: swap;
}

/* Font loading optimization */
html:not(.fonts-loaded) {
  /* Show fallback fonts while loading */
  font-family: var(--font-fallback) !important;
}

html:not(.fonts-loaded) * {
  /* Ensure all elements use fallback fonts during loading */
  font-family: var(--font-fallback) !important;
}

html.fonts-loaded {
  /* Smooth transition when fonts are loaded */
  transition: all 0.3s ease;
}

/* Prevent layout shift during font loading */
.kid-headline,
.chalk-text,
.news-text {
  /* Use consistent line-height to prevent layout shift */
  line-height: 1.2;
  /* Ensure consistent spacing */
  min-height: 1.2em;
}

/* Logo-specific FOUT prevention */
.logo-newz {
  /* Prevent layout shift for the main NEWZ text */
  line-height: 1.2;
  min-height: 1.2em;
  /* Ensure consistent font rendering */
  font-synthesis: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Font loading optimization - prevent text rendering until font is loaded */
  font-display: optional;
}

.logo-newz-small {
  /* Prevent layout shift for the small NEWZ text */
  line-height: 1.2;
  min-height: 1.2em;
  /* Ensure consistent font rendering */
  font-synthesis: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Font loading optimization - prevent text rendering until font is loaded */
  font-display: optional;
}

/* Font loading states for Logo */
html:not(.fonts-loaded) .logo-newz,
html:not(.fonts-loaded) .logo-newz-small {
  /* Use fallback fonts while loading */
  font-family: var(--font-fallback) !important;
  /* Ensure consistent rendering */
  font-weight: 700 !important;
  letter-spacing: -0.02em !important;
}

html.fonts-loaded .logo-newz {
  /* Smooth transition to custom font */
  transition: font-family 0.3s ease;
}

html.fonts-loaded .logo-newz-small {
  /* Smooth transition to custom font */
  transition: font-family 0.3s ease;
}

/* Additional Logo optimizations */
.logo-newz,
.logo-newz-small {
  /* Ensure text doesn't shift during font loading */
  text-rendering: optimizeLegibility;
  /* Prevent layout shift */
  contain: layout style;
}

/* Font loading states */
.font-loading {
  font-family: var(--font-fallback);
  opacity: 0.8;
  transition: opacity 0.3s ease;
}

.font-loaded {
  opacity: 1;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}
.blue-ball {
  margin-bottom: -2.5rem;
  display: none;
  @media only screen and (max-width: 600px) {
    margin-bottom: -1.5rem;
    display: none;
  }
}
.news-text {
  margin-bottom: -1rem;
  @media only screen and (max-width: 600px) {
    margin-bottom: -0.5rem;
  }
}
.bounce-twice {
  display: none;
  @media only screen and (max-width: 600px) {
    display: none;
  }
}
.blocks-wrapper {
  margin-bottom: -2.5rem;
  @media only screen and (max-width: 600px) {
    margin-bottom: -2.3rem;
  }
}
.chalkboard-wrapper {
  margin-bottom: 0rem;
  @media only screen and (max-width: 600px) {
    margin-bottom: 1rem;
  }
}
.chalk-text {
  padding: 0.5rem 1rem 0rem 1rem;
  @media only screen and (max-width: 600px) {
    padding: 0.9rem 0 0.4rem;
  }
}
/* Kid-friendly headline styles */
.kid-headline {
  font-family: var(--font-comic-neue), 'Comic Neue', 'Comic Sans MS', cursive !important;
  font-weight: 700 !important;
  letter-spacing: -0.02em !important;
  line-height: 1.1 !important; /* Tightened from 1.2 */
}

/* Kid-friendly summary text styles */
.kid-summary {
  font-size: 1.1em; /* 10% larger than base size */
  line-height: 1.4;
}

@keyframes shake {
  0%,
  100% {
    transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-4px);
  }
  20%,
  40%,
  60%,
  80% {
    transform: translateX(4px);
  }
}

.shake-animation {
  animation: shake 0.3s infinite;
}

@keyframes bounce-twice {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  5%,
  15% {
    transform: translate3d(0, -25%, 0);
  }
  10%,
  20% {
    transform: translate3d(0, 0, 0);
  }
  25%,
  100% {
    transform: translate3d(0, 0, 0);
  }
}

.bounce-twice {
  animation: bounce-twice 12s infinite;
}
